<!DOCTYPE html>
<html>
  <head>
    <meta charset='UTF-8'>
    <title>Sparse Matrix</title>
  </head>
  <body>
    <h1>Sparse Matrix Dance</h1>
    <div id='main'></div>
  </body>
  <script type='module'>
    import { solve } from './modules/newSolver.mjs';

    const main = document.getElementById('main');
    let solutionCount = 0;

    // Show status at this depth, should be from 0 to 11, 999 = never
    const EXPOLORE_AT_DEPTH = 999;

    function stringifyBoard(board) {
      return `\n${board.map(row => row.join(' ')).join('\n')}\n`;
    }

    function cbShowSolution(solution) {
      solutionCount += 1;
      console.log(`Solution #${solutionCount}: ${stringifyBoard(solution)}`);
    }

    function cbShowStatus(status, depth, head) {
      if (depth >= EXPOLORE_AT_DEPTH) {
        console.log(`Exploring at depth ${depth}: ${stringifyBoard(status)}`);
      }
    }

    solve(cbShowSolution, cbShowStatus);
  </script>
</html>